# sources
source = ~/.config/hypr/env.conf
source = ~/.config/hypr/plugins.conf
source = ~/.config/hypr/startup.conf

monitor = eDP-1,2880x1880@90,0x0,1.33,bitdepth,10

general {
    border_size = 3
    no_border_on_floating = false
    apply_sens_to_raw = true
    gaps_in = 5
    gaps_out = 10
    gaps_workspaces = 10
    col.active_border = rgb(50fa7bee) rgb(bd93f9ee) 90deg
    col.inactive_border = rgba(44475aaa)
    col.group_border = rgba(282a36dd)
    col.group_border_active = rgb(bd93f9ee) rgb(6272a4) 90deg
    layout = master
    no_cursor_warps = true
    resize_on_border = true
    extend_border_grab_area = 20
    hover_icon_on_border = true
}

decoration {
    rounding = 12
    active_opacity = 0.75
    inactive_opacity = 0.75
    fullscreen_opacity = 0.75
    col.shadow = rgba(1E202966)
    # suggested shadow setting
    drop_shadow = yes
    shadow_range = 60
    shadow_offset = 1 2
    shadow_render_power = 3
    shadow_scale = 0.97

    blur {
      enabled = true
      size = 8
      passes = 5
      ignore_opacity = true
      new_optimizations = true
      xray = true
      noise = 0.0117
      contrast = 1.3
      brightness = 0.8917
      vibrancy = 0.9
      vibrancy_darkness = 0.5
      special = true
      popups = true
      popups_ignorealpha = 0.1
    }
}

input {
    kb_layout = us
    numlock_by_default = true
    sensitivity = 3.0
    repeat_rate = 25
    repeat_delay = 250
    accel_profile = adaptive
    scroll_method = 2fg
    natural_scroll = false
    follow_mouse = 1
    float_switch_override_focus = 2

    touchpad {
        disable_while_typing = true
        natural_scroll = false
        scroll_factor = 3.0
        tap_button_map = lrm
        middle_button_emulation = true
        clickfinger_behavior = true
        tap-to-click = true
        drag_lock = true
    }
}

animations {
    enabled = yes
    bezier = wind, 0.05, 0.9, 0.1, 1.05
    bezier = winIn, 0.1, 1.1, 0.1, 1.1
    bezier = winOut, 0.3, -0.3, 0, 1
    bezier = liner, 1, 1, 1, 1
    animation = windows, 1, 6, wind, slide
    animation = windowsIn, 1, 6, winIn, slide
    animation = windowsOut, 1, 5, winOut, slide
    animation = windowsMove, 1, 5, wind, slide
    animation = border, 1, 1, liner
    animation = borderangle, 1, 30, liner, loop
    animation = fade, 1, 10, default
    animation = workspaces, 1, 5, wind
}

misc {
    force_default_wallpaper = 0 
    disable_hyprland_logo = true
    disable_splash_rendering = true
    mouse_move_enables_dpms = true
    key_press_enables_dpms = true
    animate_manual_resizes = true
    animate_mouse_windowdragging = true
    focus_on_activate = true
    mouse_move_focuses_monitor = true
    enable_swallow = true
    swallow_regex = ^(kitty)$
    close_special_on_empty = true
    enable_hyprcursor = true
}

binds {
  allow_workspace_cycles = true
  allow_workspace_back_and_forth = true
}

gestures {
  workspace_swipe = true
  workspace_swipe_cancel_ratio = 0.15
  workspace_swipe_fingers = 3
}

master {
  special_scale_factor = 0.8
  mfact = 0.51
  new_is_master = false
  new_on_top = true
  no_gaps_when_only = false
  orientation = center
  always_center_master = false
  inherit_fullscreen = true
  allow_small_split = true
  smart_resizing = true
}

# blur
layerrule = blur,rofi
layerrule = ignorezero,rofi
#----------------------------
layerrule = blur,kitty
layerrule = ignorezero,kitty
#----------------------------
layerrule = blur,hyprlock
layerrule = ignorezero,hyprlock
#----------------------------
layerrule = blur,overskride
layerrule = ignorezero,overskride
#----------------------------
layerrule = blur,gtk-layer-shell
layerrule = ignorezero,gtk-layer-shell
#----------------------------
layerrule = blur,qt-layer-shell
layerrule = ignorezero,qt-layer-shell
#----------------------------
layerrule = blur,notifications
layerrule = ignorezero,notifications
#----------------------------
layerrule = blur,nwggrid
layerrule = ignorezero,nwggrid

# keybinds
$mainMod = SUPER
$term = kitty
$footy = ~/.config/hypr/scripts/footy
$files = thunar
$editor = "alacritty -e nvim"
$browser = "vivaldi enable-features=UseOzonePlatform --ozone-platform=wayland" 
$network = nm-applet
$bt = overskride 
$statusbar = hyprpanel
$menu = "nwggrid -o 0.5 -b 282A36 -n 7 -s 84 -c style.css -g Dracula -wm Hyprland" 
$dock = nwg-dock-hyprland

##################################
# apps
bind = $mainMod,Return,exec,$term
bind = $mainMod,T,exec,$footy
bind = $mainMod,F,exec,$files
bind = $mainMod,E,exec,$editor
bind = $mainMod,B,exec,$browser
bind = $mainMod,R,exec,$menu
bindr = SUPER,SUPER_L,exec,$menu
bind = $mainMod,N,exec,$network
bind = ALT,W,exec,$statusbar
bind = ALT,d,exec,$dock
bind = CONTROL_SHIFT,R,exec,hyprctl reload
bind = CONTROL_ALT,L,exec,$lock

# screenshot
bind = ,Print,exec,hyprshot output
bind = $mainMod,Print,exec,hyprshot window

# hyprland shortcuts
bind = F11,fullscreen 
bind = $mainMod,C,killactive,  
bind = $mainMod,Space,togglefloating, 
bind = $mainMod,P,pseudo, # dwindle
bind = $mainMod,J,togglesplit, # dwindle

# master layout
bind = ALT SHIFT,D,layoutmsg,removemaster
bind = ALT SHIFT,I,layoutmsg,addmaster
bind = ALT SHIFT,J,layoutmsg,cyclenext
bind = ALT SHIFT,K,layoutmsg,cycleprev
bind = ALT SHIFT,S,layoutmsg,swapwithmaster
bind = ALT SHIFT,M,layoutmsg,focusmasterM

# Special Keys / Hot Keys
#binde = ,xf86AudioRaiseVolume,exec,$volume --inc 
#binde = ,xf86AudioLowerVolume,exec,$volume --dec 
#bind = ,xf86AudioMicMute,exec,$volume --toggle-mic
#bind = ,xf86AudioMute,exec,$volume --toggle 
#binde = ,xf86MonBrightnessDown,exec,$brightness --dec 
#binde = ,xf86MonBrightnessUp,exec,$brightness --inc
# shortcuts are tied to hyprpanel
binde = ,xf86AudioRaiseVolume,pass,^(com\.c0dedbad\.hyprpanel\.audioSinkVolumeUp)$                     #-> Increase the volume of the default audio output device
binde = ,xf86AudioLowerVolume,pass,^(com\.c0dedbad\.hyprpanel\.audioSinkVolumeDown)$                   #-> Decrease the volume of the default audio output device
bind = ,xf86AudioMute,pass,^(com\.c0dedbad\.hyprpanel\.audioSinkMuteToggle)$                   #-> Toggle the mute status of the default audio output device
bind = ,xf86AudioMicMute,pass,^(com\.c0dedbad\.hyprpanel\.audioSourceMuteToggle)$                 #-> Toggle the mute status of the default audio input device
binde = ,xf86MonBrightnessUp,pass,^(com\.c0dedbad\.hyprpanel\.brightnessUp)$                          #-> Increase display brightness
binde = ,xf86MonBrightnessDown,pass,^(com\.c0dedbad\.hyprpanel\.brightnessDown)$                    #-> Increase display brightness

# Move focus with mainMod + arrow keys
bind = $mainMod,left,movefocus, l
bind = $mainMod,right,movefocus,r
bind = $mainMod,up,movefocus,u
bind = $mainMod,down,movefocus,d

# Switch workspaces with mainMod + [0-9]
bind = $mainMod,1,workspace,1
bind = $mainMod,2,workspace,2
bind = $mainMod,3,workspace,3
bind = $mainMod,4,workspace,4
bind = $mainMod,5,workspace,5

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = ALT,1,movetoworkspace,1
bind = ALT,2,movetoworkspace,2
bind = ALT,3,movetoworkspace,3
bind = ALT,4,movetoworkspace,4
bind = ALT,5,movetoworkspace,5

# Example special workspace (scratchpad)
bind = $mainMod,S,togglespecialworkspace,magic
bind = $mainMod SHIFT,S,movetoworkspace,special:magic

# Scroll through existing workspaces with mainMod + scroll
bind = $mainMod,mouse_down,workspace,e+1
bind = $mainMod,mouse_up,workspace,e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod,mouse:272,movewindow
bindm = $mainMod,mouse:273,resizewindow

# Move active window to a relative workspace with mainMod + CTRL + ALT + [←→]
bind = ALT,r,movetoworkspace,r+1
bind = ALT,l,movetoworkspace,r-1

# to switch between windows in a floating workspace
bind = SUPER,Tab,cyclenext,          # change focus to another window
bind = SUPER,Tab,bringactivetotop,   # bring it to the top

# hyprlock
# trigger when the switch is toggled
bindl=,switch:Lid Switch,exec,hyprlock

# trigger when the switch is turning on
bindl=,switch:on:Lid Switch,exec,hyprctl keyword monitor "eDP-1, disable"

# trigger when the switch is turning off
bindl=,switch:off:Lid Switch,exec,hyprctl keyword monitor "eDP-1, 2880x1800, 0x0, 1.34, bitdepth, 10"

# Window Rules
windowrule = float,^(rofi)$
windowrule = float,^(pavucontrol)$
windowrule = float,^(wpctl)$
windowrule = float,^(blueman)$
windowrule = float,^(irnm
windowrule = float,^(rofi-bluetooth)$
windowrule = float,^(imv)$
windowrule = float,^(Viewnior)$
windowrule = float,^(vlc)$
windowrule = float,^(kvantummanager)$
windowrule = float,^(qt5ct)$
windowrule = float,^(qt6ct)$
windowrule = float,^(nwg-look)$
windowrule = float,^(dunst)$
windowrule = float,^(mako)$ 
windowrule = float,^(irnm)$ 
windowrule = float,^(thunar)$ 
windowrule = float,^(overskride)$ 
windowrule = float,^(ulauncher)$ 
windowrule = float,^(pavucontrol)$
windowrule = float,^(blueman-manager)$
windowrule = float,^(nm-applet)$
windowrule = float,^(nm-connection-editor)$
windowrule = float,^(org.kde.polkit-kde-authentication-agent-1)$

windowrulev2 = tile,class:^(alacritty)$
windowrulev2 = move 0 0,class:^(alacritty)$
windowrulev2 = size 100% 100%,class:^(alacritty)$

windowrulev2 = tile,class:^(kitty)$
windowrulev2 = move 0 0,class:^(kitty)$
windowrulev2 = size 100% 100%,class:^(kitty)$

windowrulev2 = float,class:^(wlogout)$
windowrulev2 = move 0 0,class:^(wlogout)$
windowrulev2 = size 100% 100%,class:^(wlogout)$
windowrulev2 = animation slide,class:^(wlogout)$

windowrulev2 = tile,class:(vivaldi)
windowrulev2 = move 0 0,class:(vivaldi)
windowrulev2 = size 100% 100%,class:(vivaldi)

windowrulev2 = float,class:(.*),title:(Save File)
windowrulev2 = float,class:(.*),title:(Open File)
windowrulev2 = float,class:(.*),title:(Picture-in-Picture)

windowrulev2 = float,class:(blueman-manager)
windowrulev2 = float,class:(Spotify)

# Main window / Profile screen
windowrulev2 = size 75% 70%,class:(com.obsproject.Studio), title:(.*Profile:.*)

# Class settings
windowrulev2 = float,class:(com.obsproject.Studio)
windowrulev2 = center,class:(com.obsproject.Studio)

# Folder picker
windowrulev2 = size 50% 45%,class:(com.obsproject.Studio), title:(Select Recording Directory)
windowrulev2 = center,class:(com.obsproject.Studio), title:(Select Recording Directory)

# Thunar
windowrulev2 = float, title:(.*Thunar.*)
windowrulev2 = size 60% 50%, title:(.*Thunar.*)
windowrulev2 = center, title:(.*Thunar.*)

# Spotify
windowrulev2 = tile, class:(Spotify)

# Pavucontrol
windowrulev2 = float,class:(pavucontrol)
windowrulev2 = size 60% 50%,class:(pavucontrol)
windowrulev2 = center,class:(pavucontrol)

# Gnome disks
windowrulev2 = float,class:(gnome-disks)
windowrulev2 = center,class:(gnome-disks)

# qt5ct / qt6ct
windowrulev2 = float,class:(qt5ct)
windowrulev2 = float,class:(qt6ct)
windowrulev2 = size 60% 50%,class:(qt5ct)
windowrulev2 = size 60% 50%,class:(qt6ct)
windowrulev2 = center,class:(qt5ct)
windowrulev2 = center,class:(qt6ct)

# imv
windowrulev2 = float,class:(imv)

# qBittorrent
windowrulev2 = tile,class:(org.qbittorrent.qBittorrent)
windowrulev2 = float,class:(org.qbittorrent.qBittorrent)
windowrulev2 = size 70% 60%,class:(org.qbittorrent.qBittorrent)

# GParted
windowrulev2 = tile,class:(GParted)$
windowrulev2 = size 68% 60%,class:(GParted)$
windowrulev2 = center,class:(GParted)

# File / Folder pickers
windowrulev2 = float,title:(.*Open Files.*)
windowrulev2 = size 60% 50%,title:(.*Open Files.*)
windowrulev2 = center,title:(.*Open Files.*)

windowrulev2 = float,title:(.*Open File.*)
windowrulev2 = size 60% 50%,title:(.*Open File.*)
windowrulev2 = center,title:(.*Open File.*)

windowrulev2 = float,title:(.*Open Folder.*)
windowrulev2 = size 60% 50%,title:(.*Open Folder.*)
windowrulev2 = center,title:(.*Open Folder.*)

windowrulev2 = float,title:(.*Save As.*)
windowrulev2 = size 60% 50%,title:(.*Save As.*)
windowrulev2 = center,title:(.*Save AS.*)

windowrulev2 = float,title:(.*Save File.*)
windowrulev2 = size 60% 50%,title:(.*Save File.*)
windowrulev2 = center,title:(.*Save File.*)

